<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://miuyou.github.io/</id>
    <title>春待ち</title>
    <updated>2020-03-07T14:11:30.544Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://miuyou.github.io/"/>
    <link rel="self" href="https://miuyou.github.io/atom.xml"/>
    <subtitle>开端顺利 自这天起 离乡背井 等候春息  身处何地 等候春息</subtitle>
    <logo>https://miuyou.github.io/images/avatar.png</logo>
    <icon>https://miuyou.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, 春待ち</rights>
    <entry>
        <title type="html"><![CDATA[Miu_you の进阶背包DP]]></title>
        <id>https://miuyou.github.io/post/miu_you-nobei-bao-dp/</id>
        <link href="https://miuyou.github.io/post/miu_you-nobei-bao-dp/">
        </link>
        <updated>2020-03-07T10:29:54.000Z</updated>
        <summary type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://miuyou.github.io//post-images/1583577043309.jpg" alt="" loading="lazy"></figure>
<p>附注:所有公式记得重写</p>
]]></summary>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://miuyou.github.io//post-images/1583577043309.jpg" alt="" loading="lazy"></figure>
<p>附注:所有公式记得重写</p>
<!-- more -->
<h2 id="1单调队列优化背包">1.单调队列优化背包</h2>
<p>我们知道,一般の背包做法是枚举物品和物品个数/当前容量,复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mo>∗</mo><mi>W</mi><mo>∗</mo><msubsup><mo>∑</mo><mn>1</mn><mi>n</mi></msubsup><msub><mi>m</mi><mi>i</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n*W*\sum_{1}^{n}m_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>,效率非常底下,因为枚举背包容量无法避免,那么考虑如何优化<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><msubsup><mo>∑</mo><mn>1</mn><mi>n</mi></msubsup><msub><mi>m</mi><mi>i</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">(\sum_{1}^{n}m_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mopen">(</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.</p>
<p>考虑到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><msub><mi>p</mi><mi>i</mi></msub><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo>(</mo><mi>d</mi><msub><mi>p</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo>−</mo><mi>k</mi><mo>∗</mo><mi>w</mi></mrow></msub><mo>+</mo><mi>k</mi><mo>∗</mo><mi>v</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">dp_i=max(dp_i,dp_{i-k*w}+k*v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">∗</span><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span>,发现什么了没有?你看看这个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i%w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>,所有能够改变这个i的状态,已使用背包容量对w取模后都为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i%w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>,设这个余数为x,即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>k</mi><mo>∗</mo><mi>w</mi></mrow><annotation encoding="application/x-tex">i=x+k*w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>.</p>
<p>此时将<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">dp_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的决策集合大小减小到了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>W</mi><mo>−</mo><mi>x</mi><mo>)</mo><mi mathvariant="normal">/</mi><mi>w</mi></mrow><annotation encoding="application/x-tex">(W-x)/w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>,此时暴力的复杂度得到了一个不错的优化,但是非常玄学且依旧低效.考虑到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>W</mi><mo>−</mo><mi>x</mi><mo>)</mo><mi mathvariant="normal">/</mi><mi>w</mi></mrow><annotation encoding="application/x-tex">(W-x)/w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>这个集合不仅仅只能更新一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">dp_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,而是能够更新所有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i%w==x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>的dp值,为了高效维护更新集合的最大值及有效值,可以考虑使用单调队列来维护这个集合.接下来就是常规操作啦</p>
<p>例题:</p>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1776">P1776 宝物筛选</a><br>
上面讲过啦!</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Miu_you の 动态规划]]></title>
        <id>https://miuyou.github.io/post/miu_you-no-dong-tai-gui-hua/</id>
        <link href="https://miuyou.github.io/post/miu_you-no-dong-tai-gui-hua/">
        </link>
        <updated>2020-03-07T10:18:13.000Z</updated>
        <content type="html"><![CDATA[<p>背包DP</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Miu_you の动态规划]]></title>
        <id>https://miuyou.github.io/post/miu_you-nodong-tai-gui-hua/</id>
        <link href="https://miuyou.github.io/post/miu_you-nodong-tai-gui-hua/">
        </link>
        <updated>2020-03-06T01:26:12.000Z</updated>
        <summary type="html"><![CDATA[<p>动态规划也炒鸡可爱的说!<br>
<img src="https://miuyou.github.io//post-images/1583457992014.jpg" alt="" loading="lazy"></p>
]]></summary>
        <content type="html"><![CDATA[<p>动态规划也炒鸡可爱的说!<br>
<img src="https://miuyou.github.io//post-images/1583457992014.jpg" alt="" loading="lazy"></p>
<!-- more -->
<p>この時代に飛び乗って<br>
飞身乘上这个时代<br>
今夜この街を飛び立って<br>
今夜要飞越这条街道<br>
大空を飛び回って<br>
在天空中往复盘旋<br>
命揺らせ　命揺らせ<br>
摇曳你的生命，请摇曳你的生命！</p>
<h2 id="前方高能省选dp集合">前方高能,省选DP集合</h2>
<h2 id="树形dp0"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">树</mi><mi mathvariant="normal">形</mi><mi>D</mi><mi>P</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">树形DP0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">树</span><span class="mord cjk_fallback">形</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord">0</span></span></span></span></h2>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1131">P1131 [ZJOI2007]时态同步</a><br>
简单树形DP,让所有点都和最慢得一样慢就可以了</li>
</ul>
<h2 id="杂类dp"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">杂</mi><mi mathvariant="normal">类</mi><mi>D</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">杂类DP</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">杂</span><span class="mord cjk_fallback">类</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span></h2>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1169">P1169 [ZJOI2007]棋盘制作</a><br>
悬线法</li>
<li><a href="https://www.luogu.com.cn/problem/P1437">P1437 [HNOI2004]敲砖块</a><br>
一般向DP</li>
<li><a href="https://www.luogu.com.cn/problem/P1841">P1841 [JSOI2007]重要的城市</a><br>
无可取代得最短路经过点为重要城市,也不知道和dp有什么关系</li>
<li><a href="https://www.luogu.com.cn/problem/P1772">P1772 [ZJOI2006]物流运输</a><br>
奇怪のDP,发现无法简单得跑一个分层图最短路,因为有着更改路径得操作,那么就要dp了,枚举是什么时候更改路径得</li>
</ul>
<h2 id="数学dp"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">数</mi><mi mathvariant="normal">学</mi><mi>D</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">数学DP</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">学</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span></h2>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1450">P1450 [HAOI2008]硬币购物</a><br>
是榕树,我死了,不合法方案为强制选<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">b_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>+1个</li>
<li><a href="https://www.luogu.com.cn/problem/P2059">P2059 [JLOI2013]卡牌游戏</a><br>
窝又死了,设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">f_{i,j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>表示第i个人经过j-1轮会胜出,因为他的位置在不断变化,所以每次把庄家提到1的位置上,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub><mo>+</mo><mo>=</mo><msub><mi>f</mi><mrow><mi>x</mi><mo separator="true">,</mo><mi>j</mi><mo>−</mo><mn>1</mn></mrow></msub><mi mathvariant="normal">/</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">f_{i,j}+=f_{x,j-1}/m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">+</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathdefault">m</span></span></span></span>,x为当前位置-新的庄家的位置</li>
<li><a href="https://www.luogu.com.cn/problem/P2473">P2473 [SCOI2008]奖励关</a><br>
考虑到正着dp甚至不知道要输出什么,考虑反过来,代码不用改多少就变成反着的啦,然后就加加加就行了,考虑到有可能当前集合已经选过当前礼品了,所以也可以取<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mi mathvariant="normal">∣</mi><mo>(</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>)</mo></mrow></msub><mo separator="true">,</mo><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>a</mi><mi>k</mi></msub></mrow></mrow><annotation encoding="application/x-tex">max{dp_{i+1,j|(...)},dp_{i+1,j}+a_k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04964em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mord"><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">∣</span><span class="mopen mtight">(</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>,因为题目说了&quot;假设你采取最优策略&quot;那么在能够选择拿或不拿的时候,自然拿走期望最高的啦</li>
</ul>
<h2 id="状态压缩dp"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">状</mi><mi mathvariant="normal">态</mi><mi mathvariant="normal">压</mi><mi mathvariant="normal">缩</mi><mi>D</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">状态压缩DP</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">状</span><span class="mord cjk_fallback">态</span><span class="mord cjk_fallback">压</span><span class="mord cjk_fallback">缩</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span></h2>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1896">P1896 [SCOI2005]互不侵犯</a><br>
简单的状态压缩</li>
</ul>
<h2 id="神仙dp"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">神</mi><mi mathvariant="normal">仙</mi><mi>D</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">神仙DP</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">神</span><span class="mord cjk_fallback">仙</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span></h2>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P2051">P2051 [AHOI2009]中国象棋</a><br>
数据太大了,没法状态压缩,那么就dp喽,要详细的考虑到每种情况</li>
</ul>
<h2 id="待完成"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">待</mi><mi mathvariant="normal">完</mi><mi mathvariant="normal">成</mi></mrow><annotation encoding="application/x-tex">待完成</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mord cjk_fallback">待</span><span class="mord cjk_fallback">完</span><span class="mord cjk_fallback">成</span></span></span></span></h2>
<ul>
<li>
<p><a href="https://www.luogu.com.cn/problem/P1446">P1446 [HNOI2008]Cards</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2144">P2144 [FJOI2007]轮状病毒</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2145">P2145 [JSOI2007]祖码</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2157">P2157 [SDOI2009]学校食堂</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2159">P2159 [SHOI2009]舞会</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2160">P2160 [SHOI2007]书柜的尺寸</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2167">P2167 [SDOI2009]Bill的挑战</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2215">P2215 [HAOI2007]上升序列</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2224">P2224 [HNOI2001]产品加工</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2225">P2225 [HNOI2001]棋盘变换</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2226">P2226 [HNOI2001]遥控赛车比赛</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2227">P2227 [HNOI2001]洗牌机</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2231">P2231 [HNOI2002]跳蚤</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2233">P2233 [HNOI2002]公交车路线</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2235">P2235 [HNOI2002]Kathy函数</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2280">P2280 [HNOI2003]激光炸弹</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2285">P2285 [HNOI2004]打鼹鼠</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2287">P2287 [HNOI2004]最佳包裹</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2289">P2289 [HNOI2004]邮递员</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2292">P2292 [HNOI2004]L语言</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2317">P2317 [HNOI2005]星际贸易</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2322">P2322 [HNOI2006]最短母串问题</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2327">P2327 [SCOI2005]扫雷</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2331">P2331 [SCOI2005]最大子矩阵</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2351">P2351 [SDOI2012]吊灯</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2453">P2453 [SDOI2006]最短距离</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2466">P2466 [SDOI2008]Sue的小球</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2467">P2467 [SDOI2010]地精部落</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2470">P2470 [SCOI2007]压缩</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2476">P2476 [SCOI2008]着色方案</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2477">P2477 [SCOI2008]套圈</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2487">P2487 [SDOI2011]拦截导弹</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2489">P2489 [SDOI2011]迷宫探险</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2501">P2501 [HAOI2006]数字序列</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2507">P2507 [SCOI2008]配对</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2509">P2509 [SCOI2008]警告</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2511">P2511 [HAOI2008]木棍分割</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2513">P2513 [HAOI2009]逆序对数列</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2515">P2515 [HAOI2010]软件安装</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2518">P2518 [HAOI2010]计数</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2519">P2519 [HAOI2011]problem a</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2523">P2523 [HAOI2011]Problem c</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2530">P2530 [SHOI2001]化工厂装箱员</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2538">P2538 [SCOI2008]城堡</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2558">P2558 [AHOI2002]网络传输</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2566">P2566 [SCOI2009]围豆豆</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2569">P2569 [SCOI2010]股票交易</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2577">P2577 [ZJOI2005]午餐</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2585">P2585 [ZJOI2006]三色二叉树</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2588">P2588 [ZJOI2008]Risk</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2589">P2589 [ZJOI2006]碗的叠放</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2592">P2592 [ZJOI2008]生日聚会</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2595">P2595 [ZJOI2009]多米诺骨牌</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2602">P2602 [ZJOI2010]数字计数</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2605">P2605 [ZJOI2010]基站选址</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2606">P2606 [ZJOI2010]排列计数</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2607">P2607 [ZJOI2008]骑士</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2610">P2610 [ZJOI2012]旅游</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2657">P2657 [SCOI2009]windy数</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3204">P3204 [HNOI2010]公交线路</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3240">P3240 [HNOI2015]实验比较</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3267">P3267 [JLOI2016/SHOI2016]侦察守卫</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3698">P3698 [CQOI2017]小Q的棋盘</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3713">P3713 [BJOI2017]机动训练</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3724">P3724 [AHOI2017/HNOI2017]大佬</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3748">P3748 [六省联考2017]摧毁“树状图”</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3750">P3750 [六省联考2017]分手是祝愿</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3757">P3757 [CQOI2017]老C的键盘</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3815">P3815 [FJOI2017]回文子序列问题</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3816">P3816 [FJOI2017]树的平均路长问题</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3830">P3830 [SHOI2012]随机树</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3842">P3842 [TJOI2007]线段</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3847">P3847 [TJOI2007]调整队形</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3855">P3855 [TJOI2008]Binary Land</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3881">P3881 [JLOI2008]CODES</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3886">P3886 [JLOI2009]神秘的生物</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3888">P3888 [GDOI2014]拯救莫莉斯</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3891">P3891 [GDOI2014]采集资源</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3991">P3991 [BJOI2017]喷式水战改</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4046">P4046 [JSOI2010]快递服务</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4099">P4099 [HEOI2013]SAO </a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4124">P4124 [CQOI2016]手机号码</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4127">P4127 [AHOI2009]同类分布</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4129">P4129 [SHOI2006]仙人掌</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4158">P4158 [SCOI2009]粉刷匠</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4160">P4160 [SCOI2009]生日快乐</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4244">P4244 [SHOI2008]仙人掌图 II</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4290">P4290 [HAOI2008]玩具取名</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4302">P4302 [SCOI2003]字符串折叠</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4363">P4363 [九省联考2018]一双木棋chess</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4365">P4365 [九省联考2018]秘密袭击coat</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4383">P4383 [八省联考2018]林克卡特树</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4410">P4410 [HNOI2009]无归岛</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4438">P4438 [HNOI/AHOI2018]道路</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4460">P4460 [CQOI2018]解锁屏幕</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4495">P4495 [HAOI2018]奇怪的背包</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4574">P4574 [CQOI2013]二进制A+B</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4728">P4728 [HNOI2009]双递增序列</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5075">P5075 [JSOI2012]分零食</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5322">P5322 [BJOI2019]排兵布阵</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5414">P5414 [YNOI2019]排序</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5484">P5484 [JLOI2011]基因补全</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5486">P5486 [JLOI2010]世界杯租房</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5503">P5503 [JSOI2016]灯塔</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5566">P5566 [SDOI2008]红黑树</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5569">P5569 [SDOI2008]石子合并</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5675">P5675 [GZOI2017]取石子游戏</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5680">P5680 [GZOI2017]共享单车</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P5785">P5785 [SDOI2012]任务安排</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P6082">P6082 [JSOI2015]salesman</a></p>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Miu_you の 网络流]]></title>
        <id>https://miuyou.github.io/post/miu_you-no-wang-luo-liu/</id>
        <link href="https://miuyou.github.io/post/miu_you-no-wang-luo-liu/">
        </link>
        <updated>2020-03-04T04:01:12.000Z</updated>
        <summary type="html"><![CDATA[<p>这里就是放放可爱の网络流的题目和感想啦~~~~~~~<br>
<img src="https://miuyou.github.io//post-images/1583297071335.jpg" alt="" loading="lazy"></p>
]]></summary>
        <content type="html"><![CDATA[<p>这里就是放放可爱の网络流的题目和感想啦~~~~~~~<br>
<img src="https://miuyou.github.io//post-images/1583297071335.jpg" alt="" loading="lazy"></p>
<h2 id="-more-算法分析"><!-- more --><br>
算法分析</h2>
<p>开始了<br>
我这个萌新只会dinic,isap和上下界网络流先咕着<br>
这算法挺好懂得,<br>
考虑为什么最小割==最大流<br>
一个最小,一个最大,为什么会相等呢?<br>
因为既然割要让这个网络无法联通,也就不存在增广路了,最小得情况正好是最大流<br>
网络流主要考得是建模技巧,而不是算法本身,这也是为什么网络流得权重比较高得原因吧</p>
<h2 id="建模技巧">建模技巧</h2>
<p>1.大汇点大源点<br>
这个东西大家都会吧,可以简化题目,若有多个入点或者出点可以给他们连在一起</p>
<p>2.拆点<br>
如果对于点本身有限制,就应当拆点,例如要求路径不相交,可以在点本身连一条边,限制流量</p>
<p>3.求最小割<br>
最小割==最大流</p>
<p>技巧过多,下面一叠</p>
<h2 id="可爱の网络流们">可爱の网络流们</h2>
<h2 id="有趣の题">有趣の题</h2>
<ul>
<li>
<p><a href="https://www.luogu.com.cn/problem/P1251">P1251 餐巾计划问题</a><br>
有趣的题,依旧是比较难想.考虑每天要用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>块干净餐巾,为了满足要求,那么最大流一定是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∑</mo><mo>(</mo><msub><mi>a</mi><mi>i</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">\sum(a_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>,同时这题有着许多限制果断拆点,分为白天和晚上,白天向ed连<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>做出边,但是为了获得旧餐巾从st连向夜晚一条<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,费用都为0,然后st向白天连一条,每个晚上能洗的方式都连一条到结束时的白天久做完啦!</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2055">P2055 [ZJOI2009]假期的宿舍</a><br>
因为要让所有人都有床睡,那么每个要床的连ed,每个有床的连st,如果认识就连一条边.</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2754">P2754 [CTSC1999]家园 / 星际转移问题</a><br>
因为这题实在难做,所以枚举时间加边,模拟每个车的运行,依次加边<br>
每个时间点像上一个时间点再连一次就可以了</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2764">P2764 最小路径覆盖问题</a><br>
还算不错的题目,考虑到不存在任何边的时候,总路径数为n,那么要求的就是合并掉的路径数量,因为一个点只能被另一个点合并,所以点的流量为1,那么最大流求出合并路径数tot,输出<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mi>t</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">n-tot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span></span></span></span>即可</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2765">P2765 魔术球问题</a><br>
挨个加球,判断能和哪些球放一起,然后就连上去,如果这次加得球没有增加流量,代表放不了,则开一个新の柜子.</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2766">P2766 最长不下降子序列问题</a><br>
第一眼不可做,奇奇怪怪得题,第一问直接dp求解,然后凭借第一问的dp数组来建立图,让长度为len的点连向终点就可以保证第二问的条件,第三问直接额外加边就可以了.</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2774">P2774 方格取数问题</a><br>
因为要求最大的总权值,那么减去最小割就可以了</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4009">P4009 汽车加油行驶问题</a><br>
将汽车以当前油量作为状态分层,然后跑spfa,欸,不是网络流</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P4016">P4016 负载平衡问题</a><br>
大于平均数作一堆,小于平均数作一堆,然后互相连,算出代价,跑一个最小割就可以了</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3358">P3358 最长k可重区间集问题</a><br>
最长k可重代表着每个点的最大流量为k,那么考虑如何表达一个区间,例如从a到b的一个区间,可以写成从a直接流向b+1,如果选了这个区间,那么a到b的流量减一.</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3357">P3357 最长k可重线段集问题</a><br>
和上一题差不多,考虑会有竖着的线段把他卡了</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3356">P3356 火星探险问题 </a><br>
龟龟方案,无非是暴力连连连,但是输出方案比较有亮点</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3980">P3980 [NOI2008]志愿者招募</a><br>
关于至少要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>流量的限制,可以让起点和终点的流量为inf,则需要限制的边改成<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>f</mi><mo>−</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">inf-x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>即可,为了满   足最大流的前提一定会流满</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2050">P2050 [NOI2012]美食节</a><br>
分批动态加边,需要了就加,不需要不加.</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2604">P2604 [ZJOI2010]网络扩容</a><br>
第一问正常求,考虑第二问,st和ed增加流量k,同时每对点加流量inf费用给的的边即可</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3159">P3159 [CQOI2012]交换棋子</a><br>
看起来是一个板题,但是却加入了最多交换次数的限制,那么拆点,流量为k/2即可,如果他是起点不是终点(反之亦可),且k为奇数,那么再额外加入一点流量即可</p>
<h2 id="重复相似的练手题弱题">重复/相似的练手题/弱题</h2>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3254">P3254 圆桌问题</a><br>
普通的最大流</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2153">P2153 [SDOI2009]晨跑</a><br>
普通的费用流</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2053">P2053 [SCOI2007]修车</a><br>
美食节的弱化题....</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2756">P2756 飞行员配对方案问题</a><br>
就是一个模板题</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2762">P2762 太空飞行计划问题</a><br>
拆点板题,读入弱智</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2763">P2763 试题库问题</a><br>
普通的模板题</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P2770">P2770 航空路线问题</a><br>
水题</p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/problem/P3355">P3355 骑士共存问题</a><br>
求出最小割,解决了</p>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[                            省选补题计划]]></title>
        <id>https://miuyou.github.io/post/sheng-xuan-bu-ti-ji-hua-qwq/</id>
        <link href="https://miuyou.github.io/post/sheng-xuan-bu-ti-ji-hua-qwq/">
        </link>
        <updated>2020-03-01T09:27:41.000Z</updated>
        <summary type="html"><![CDATA[<p>因为窝太弱了,所以决定把省选题都刷了!<br>
<img src="https://miuyou.github.io//post-images/1583297086560.jpg" alt="" loading="lazy"></p>
]]></summary>
        <content type="html"><![CDATA[<p>因为窝太弱了,所以决定把省选题都刷了!<br>
<img src="https://miuyou.github.io//post-images/1583297086560.jpg" alt="" loading="lazy"></p>
<h2 id="-more-"><!-- more --></h2>
<h2 id="qwq">qwq</h2>
<h2 id="加油">加油!</h2>
<h2 id="哪怕稍微不那么弱也好啊qwq">哪怕稍微不那么弱也好啊qwq</h2>
<h2 id="下面就是写过的题啦qwq">下面就是写过的题啦qwq</h2>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1110">P1110 [ZJOI2007]报表统计</a><br>
(完成)使用mulbiset过平衡树太棒啦(๑•̀ㅂ•́)و✧</li>
<li><a href="https://www.luogu.com.cn/problem/P1128">P1128 [HNOI2001]求正整数</a></li>
</ul>
<p>因为做过反素数,所以知道一个数字的因子个数该怎么算,而这题要求这个的逆运算,因为之前是搜索然后筛选,这次要逆向的话似乎也可以搜索,但数据范围不允许这种玄学算法通过,可以考虑dp,似乎是n方的,因为数字过大所以要转化转移方程,因为涉及到a的b次方,可以取对数优化</p>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1129">P1129 [ZJOI2007]矩阵游戏</a></li>
</ul>
<p>转换一下模型,可以发现是行对列匹配,转换成最大流解决</p>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1131">P1131 [ZJOI2007]时态同步</a><br>
简单的树形<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">dp</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span></li>
<li><a href="https://www.luogu.com.cn/problem/P1169">P1169 [ZJOI2007]棋盘制作</a><br>
正方形悬线模板秒了,长方形要改一下,考虑从上向下转移,左右同时维护</li>
<li><a href="https://www.luogu.com.cn/problem/P1197">P1197 [JSOI2008]星球大战</a><br>
正难则反</li>
<li><a href="https://www.luogu.com.cn/problem/P1198">P1198 [JSOI2008]最大数</a><br>
动态开点线段树</li>
<li><a href="https://www.luogu.com.cn/problem/P1291">P1291 [SHOI2002]百事世界杯之旅</a><br>
概率期望入门</li>
</ul>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1295">P1295 [TJOI2011]书架</a><br>
非常有趣的单调队列+双端队列优化dp,论如何动态维护最大值,O(1)</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P1337">P1337 [JSOI2004]平衡点 / 吊打XXX</a><br>
模拟退火,自创多种随机化(单种过不了</li>
<li><a href="https://www.luogu.com.cn/problem/P1377">P1377 [TJOI2011]树的序</a><br>
欸,思维题</li>
<li><a href="https://www.luogu.com.cn/problem/P1418">P1418 [TJOI2011]构造矩阵</a><br>
网络流有趣的题目</li>
<li><a href="https://www.luogu.com.cn/problem/P1434">P1434 [SHOI2002]滑雪</a><br>
入门水题,注意边界</li>
<li><a href="https://www.luogu.com.cn/problem/P1437">P1437 [HNOI2004]敲砖块</a><br>
还不错的dp,写写写就对了,考虑合理运用边界来进行跳跃式转移</li>
<li><a href="https://www.luogu.com.cn/problem/P1446">P1446 [HNOI2008]Cards</a></li>
<li><a href="https://www.luogu.com.cn/problem/P1450">P1450 [HAOI2008]硬币购物</a><br>
憨批榕树原理dp</li>
<li><a href="https://www.luogu.com.cn/problem/P1463">P1463 [POI2002][HAOI2007]反素数</a><br>
挺不错的搜索</li>
<li><a href="https://www.luogu.com.cn/problem/P1627">P1627 [CQOI2009]中位数</a><br>
弱智题,开个桶记录一下就好了</li>
<li><a href="https://www.luogu.com.cn/problem/P1640">P1640 [SCOI2010]连续攻击游戏</a><br>
比较有趣的并查集</li>
<li><a href="https://www.luogu.com.cn/problem/P1641">P1641 [SCOI2010]生成字符串</a><br>
组合计数基础</li>
<li><a href="https://www.luogu.com.cn/problem/P1772">P1772 [ZJOI2006]物流运输</a><br>
dp+最短路</li>
<li><a href="https://www.luogu.com.cn/problem/P1841">P1841 [JSOI2007]重要的城市</a><br>
dij做n遍,在最短路中若一条最短边是唯一的则起点为重要城市</li>
<li><a href="https://www.luogu.com.cn/problem/P1896">P1896 [SCOI2005]互不侵犯</a><br>
设dp状态为第i行放了第j种方式总共z个,谔谔</li>
<li><a href="https://www.luogu.com.cn/problem/P1972">P1972 [SDOI2009]HH的项链</a><br>
树状数组离线搞,主席树在线</li>
<li><a href="https://www.luogu.com.cn/problem/P2023">P2023 [AHOI2009]维护序列</a><br>
弱智低能题,就是一个模板(</li>
<li><a href="https://www.luogu.com.cn/problem/P2039">P2039 [AHOI2009]跳棋</a><br>
谔谔dp,谁知道讷</li>
</ul>
<ul>
<li>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P2051">P2051 [AHOI2009]中国象棋</a><br>
神仙dp题</li>
</ul>
</li>
</ul>
<ul>
<li><a href="https://www.luogu.com.cn/problem/P2053">P2053 [SCOI2007]修车</a><br>
普通的费用流</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[[HEOI2016/TJOI2016]排序 题解]]></title>
        <id>https://miuyou.github.io/post/heoi2016tjoi2016pai-xu-ti-jie/</id>
        <link href="https://miuyou.github.io/post/heoi2016tjoi2016pai-xu-ti-jie/">
        </link>
        <updated>2020-02-27T06:50:33.000Z</updated>
        <summary type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://miuyou.github.io//post-images/1583391593712.jpg" alt="" loading="lazy"></figure>
]]></summary>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://miuyou.github.io//post-images/1583391593712.jpg" alt="" loading="lazy"></figure>
<!-- more -->
<p>题目要求我们求出第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span></span></span></span>位置上的数字.<br>
暴力想法:暴力局域排序,每次排序的复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">nlogn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span></span></span></span><br>
不合格,舍弃暴力,发现排序不可避免,那么考虑如何优化排序复杂度<br>
考虑<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>01</mn></mrow><annotation encoding="application/x-tex">01</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">1</span></span></span></span>串可以做到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">logn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span></span></span></span>排序(如何排序自行思考)<br>
那么考虑如何转换成一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>01</mn></mrow><annotation encoding="application/x-tex">01</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">1</span></span></span></span>串<br>
约定比选择的数大的为1,小的为0<br>
但题目要求固定位置的数字,则选择的数不确定<br>
发现题目给出序列的为排列,则可二分所选择的数<br>
求出结果</p>
<p>logn排序的原理是<br>
因为序列全01,那么从小到大就是将所有的0放到前面,所有的1放到后面</p>
<p>时间复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><msup><mi>n</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(nlogn^{2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;algorithm&gt;
#include&lt;cstring&gt;
using namespace std;
#define mid ((l+r)&gt;&gt;1)
#define ls (k&lt;&lt;1)
#define rs (k&lt;&lt;1|1)
#define lson ls,l,mid
#define rson rs,mid+1,r
int n,m,q,a[100050];
struct edge{
	int a,b,c;
}tu[100050];
struct node{
	int flag,sum;
}t[400050];
inline void pushdown(int k,int l,int r){
	if(t[k].flag==1){
		t[ls].flag=t[rs].flag=1;
		t[ls].sum=t[rs].sum=0;
	}else if(t[k].flag==2){
		t[ls].flag=t[rs].flag=2;
		t[ls].sum=(mid-l+1);t[rs].sum=(r-mid);
	}t[k].flag=0;
}
inline void built(int k,int l,int r,int x) {
	t[k].flag=0;
	if(l==r) {
		t[k].sum=(a[l]&gt;=x);
	} else {
		built(lson,x);
		built(rson,x);
        t[k].sum=t[ls].sum+t[rs].sum;
	}
}
inline int query(int k,int l,int r,int L,int R) {
	if(l&gt;r||r&lt;L||l&gt;R)return 0;
	if(L&lt;=l&amp;&amp;r&lt;=R)return t[k].sum;
    int tot=0;
	pushdown(k,l,r);
	if(L&lt;=mid)tot+=query(lson,L,R);
	if(mid&lt;R)tot+=query(rson,L,R);
	t[k].sum=t[ls].sum+t[rs].sum;
	return tot;
}
inline void gai(int k,int l,int r,int L,int R,int val){
	if(l&gt;r||r&lt;L||l&gt;R)return;
    if(L&lt;=l&amp;&amp;r&lt;=R){
        t[k].flag=val+1;
		t[k].sum=(r-l+1)*val;
    }else{
        pushdown(k,l,r);
		if(mid&gt;=L)gai(lson,L,R,val);
		if(mid&lt;R)gai(rson,L,R,val);
		t[k].sum=t[ls].sum+t[rs].sum;
    }
}
inline int cha(int k,int l,int r,int val){
	if(l&gt;r||r&lt;val||l&gt;val)return 0;
    if(l==val&amp;&amp;r==val){
        return t[k].sum;
    }else{
        pushdown(k,l,r);
		if(mid&gt;=val)return cha(lson,val);
		else return cha(rson,val);
    }
}
int check(int x){
	built(1,1,n,x);
	for(int i=1;i&lt;=m;++i){
        int val=query(1,1,n,tu[i].b,tu[i].c);
        if(!val)gai(1,1,n,tu[i].b,tu[i].c,0);
		if(tu[i].a){
			gai(1,1,n,tu[i].b,tu[i].b+val-1,1);
			gai(1,1,n,tu[i].b+val,tu[i].c,0);
		}else{
			val=(tu[i].c-tu[i].b+1)-val;
			gai(1,1,n,tu[i].b,tu[i].b+val-1,0);
			gai(1,1,n,tu[i].b+val,tu[i].c,1);
		}
	}
	return cha(1,1,n,q);
}
int main(){
	cin&gt;&gt;n&gt;&gt;m;
	for(int i=1;i&lt;=n;++i)scanf(&quot;%d&quot;,&amp;a[i]);
	for(int i=1;i&lt;=m;++i){
		scanf(&quot;%d%d%d&quot;,&amp;tu[i].a,&amp;tu[i].b,&amp;tu[i].c);
	}int l=1,r=n,md,anse=0;cin&gt;&gt;q;
	while(l&lt;=r){
		md=(l+r)&gt;&gt;1;
		if(check(md)){
			anse=md;
			l=md+1;
		}else r=md-1;
	}cout&lt;&lt;anse&lt;&lt;endl;return 0;
}
</code></pre>
]]></content>
    </entry>
</feed>